import matplotlib.pyplot as plt
import numpy as np
 


vsi_values = np.array([100, 92.4, 88, 96, 85.3, 89.3, 86.6, 98.5, 92.4, 96, 86.2, 85.3, 88.4, 90.6, 84])
csi_values = np.array([96.8, 100, 99.6, 98.6, 97.1, 98.8, 99.1, 84, 99.6, 99.1, 99.4, 96.1, 97.3, 100, 99.6])

vsi_mean = np.mean(vsi_values)
csi_mean = np.mean(csi_values)


vsi_std = np.std(vsi_values)
csi_std = np.std(csi_values)


# Define labels, positions, bar heights and error bar heights
labels = ['VSI', 'CSI']
x_pos = np.arange(len(labels))
avg_all = [vsi_mean, csi_mean]
print(f'Average of vsi is {vsi_mean}')
print(f'Standard deviation of vsi is {vsi_std}')
print(f'Average of csi is {csi_mean}')
print(f'Standard deviation csi is {csi_std}')
error = [vsi_std, csi_std]

# Build the plot
fig, ax = plt.subplots()
ax.bar(x_pos, avg_all,
       yerr=error,
       align='center',
       alpha=0.5,
       ecolor='black',
       capsize=10, color='b')
ax.set_ylabel('nn')
ax.set_xticks(x_pos)
ax.set_xticklabels(labels)
#ax.set_ylabel('Average of ')
#ax.set_title('')
#ax.yaxis.grid(True)

# Save the figure and show
plt.tight_layout()
plt.savefig('stability_metrics.png')
plt.show()